<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auto Tasbih Counter</title>

<style>
body{font-family:Arial;text-align:center;background:#0f172a;color:white;margin-top:20px;}
#counter{font-size:60px;margin:10px;}
.card{background:#1e293b;padding:10px;margin:10px auto;width:85%;border-radius:10px;}
button{padding:10px;margin:4px;border:none;border-radius:10px;}
canvas{background:white;border-radius:10px;}
</style>
</head>

<body>

<h2>Auto Tasbih Counter</h2>
<div id="counter">0</div>

Daily Target:
<input type="number" id="dailyTarget" value="100"><br><br>

<button onclick="tap()">Tap</button>
<button onclick="reset()">Reset</button>
<button onclick="start()">Auto</button>
<button onclick="stop()">Stop</button>

<div class="card">
<h4>üèÜ Leaderboard</h4>
Daily: <span id="daily">0</span><br>
Weekly: <span id="weekly">0</span><br>
Monthly: <span id="monthly">0</span><br>
Streak: <span id="streak">0</span> days üî•
</div>

<div class="card">
<h4>üìä Weekly Progress</h4>
<canvas id="chart" width="300" height="150"></canvas>
</div>

<script>
let count=parseInt(localStorage.getItem("count"))||0;
let daily=parseInt(localStorage.getItem("daily"))||0;
let weekly=parseInt(localStorage.getItem("weekly"))||0;
let monthly=parseInt(localStorage.getItem("monthly"))||0;
let streak=parseInt(localStorage.getItem("streak"))||0;

let lastDay=localStorage.getItem("day");
let today=new Date().getDate();

if(lastDay!=today){
if(daily>=localStorage.getItem("target")){
streak++;
}
daily=0;
localStorage.setItem("day",today);
}

update();
drawChart();

let auto;

function tap(){
count++;daily++;weekly++;monthly++;
save();update();drawChart();
}

function reset(){count=0;save();update();}

function start(){auto=setInterval(tap,1500);}
function stop(){clearInterval(auto);}

function update(){
document.getElementById("counter").innerText=count;
document.getElementById("daily").innerText=daily;
document.getElementById("weekly").innerText=weekly;
document.getElementById("monthly").innerText=monthly;
document.getElementById("streak").innerText=streak;
localStorage.setItem("target",document.getElementById("dailyTarget").value);
}

function save(){
localStorage.setItem("count",count);
localStorage.setItem("daily",daily);
localStorage.setItem("weekly",weekly);
localStorage.setItem("monthly",monthly);
localStorage.setItem("streak",streak);
}

function drawChart(){
let c=document.getElementById("chart");
let ctx=c.getContext("2d");
ctx.clearRect(0,0,300,150);
let data=JSON.parse(localStorage.getItem("weekData"))||[0,0,0,0,0,0,0];
data[new Date().getDay()]=daily;
localStorage.setItem("weekData",JSON.stringify(data));
for(let i=0;i<7;i++){
ctx.fillRect(i*40,150-data[i]/2,30,data[i]/2);
}
}
</script>

</body>
</html>

